/*! appcan v1.0.0 Beta |  from 3g2win.com */appcan.define("Slide",function(a,b,c){var d={transform3d:"WebKitCSSMatrix"in window,touch:"ontouchstart"in window},e={start:d.touch?"touchstart":"mousedown",move:d.touch?"touchmove":"mousemove",end:d.touch?"touchend":"mouseup",cancel:d.touch?"touchcancel":"",transEnd:"webkitTransitionEnd"};function f(a){return d.transform3d?"translate3d("+a+"px, 0, 0)":"translate("+a+"px, 0)"}function g(a){return d.transform3d?"translate3d(0,"+a+"px, 0)":"translate(0,"+a+"px)"}function h(a,b){return d.touch?a.changedTouches[0][b]:a[b]}var i=function(b,c,d,h,i){var j=this;j._locked=h,j.endFun=d||null,j.transEnd=i||null,j.nodes=[],j.dir=c||"H",b.nodeType&&1==b.nodeType?j.element=b:"string"==typeof b&&(j.id=b,j.element=document.getElementById(b)||document.querySelector(b)),j._vendor=window.navigator.userAgent.indexOf("Android 4.")>=0,"H"==j.dir?j.element.style.webkitTransform=f(0):j.element.style.webkitTransform=g(0),j.conf={},j.touchEnabled=!0,j.currentPoint=0,j.currentXY=0;var k=a(j.element),l=k.children().first().clone(!0),m=k.children().last().clone(!0);return k.append(l),k.prepend(m),j.refresh(),j.element.parentNode.addEventListener(e.start,j,!1),j.element.parentNode.addEventListener(e.move,j,!1),j.element.addEventListener(e.transEnd,j,!1),""!=e.cancel&&(j.element.addEventListener(e.cancel,j,!1),document.addEventListener(e.cancel,j,!1)),document.addEventListener(e.end,j,!1),j};i.prototype={handleEvent:function(a){var b=this;switch(a.type){case e.start:b._touchStart(a);break;case e.move:b._touchMove(a);break;case e.end:case e.cancel:b._touchEnd(a);break;case"click":b._click(a);break;case e.transEnd:b.transEnd&&b.transEnd(a)}},addSection:function(a){var b=this;b.element.appendChild(a),b.refresh()},getSection:function(a){var b=this,c=b.nodes[a];return c.childNodes[1]&&c.childNodes[1].childNodes[1]?c.childNodes[1].childNodes[1].childNodes[1]:c},refresh:function(){var a=this,b=a.conf;a.maxPoint=b.point||function(){for(var b=a.element.childNodes,c=0,d=0,e=b.length,f;e>d;d++)f=b[d],1===f.nodeType&&(a.nodes[c]=f,c++);return c>0&&c--,c}(),"H"==a.dir?a.distance=parseInt(b.distance||window.getComputedStyle(a.element,null).width):a.distance=parseInt(b.distance||window.getComputedStyle(a.element,null).height),a.maxXY=b.maxXY?-b.maxXY:-a.distance*a.maxPoint,a.moveToPoint(a.currentPoint)},hasNext:function(){var a=this;return a.currentPoint<a.maxPoint},hasPrev:function(){var a=this;return a.currentPoint>0},toNext:function(){var a=this;a.hasNext()&&a.moveToPoint(a.currentPoint+1)},toPrev:function(){var a=this;a.hasPrev()&&a.moveToPoint(a.currentPoint-1)},moveToPoint:function(a){var b=this;b.currentPoint=0>a?0:a>b.maxPoint?b.maxPoint:parseInt(a),b.element.style.webkitTransitionDuration="500ms",b._setXY(-b.currentPoint*b.distance);var c=document.createEvent("Event");c.initEvent("css3flip.moveend",!0,!1),b.element.dispatchEvent(c)},_setXY:function(a){var b=this;b.currentXY=a,"H"==b.dir?b.element.style.webkitTransform=f(a):b.element.style.webkitTransform=g(a)},_touchStart:function(a){var b=this;b._locked&&(a.preventDefault(),a.stopPropagation()),b.touchEnabled&&(d.touch||a.preventDefault(),b.element.style.webkitTransitionDuration="0",b.scrolling=!0,b.moveReady=!1,b.startPageX=h(a,"pageX"),b.startPageY=h(a,"pageY"),"H"==b.dir?b.basePage=b.startPageX:b.basePage=b.startPageY,b.direction=0,b.startTime=a.timeStamp)},_touchMove:function(a){var b=this;if(b._locked&&(a.preventDefault(),a.stopPropagation()),b.scrolling){var c=h(a,"pageX"),d=h(a,"pageY"),e,f,g,i;b.moveReady||(g=Math.abs(c-b.startPageX),i=Math.abs(d-b.startPageY),"H"==b.dir?g>i&&g>5?(b._vendor&&a.preventDefault(),b.moveReady=!0,b.element.parentNode.addEventListener("click",b,!0)):i>5&&(b.scrolling=!1):i>g&&i>5?(b._vendor&&a.preventDefault(),b.moveReady=!0,b.element.parentNode.addEventListener("click",b,!0)):g>5&&(b.scrolling=!1)),b.moveReady&&(e="H"==b.dir?c-b.basePage:d-b.basePage,f=b.currentXY+e,(f>=0||f<b.maxXY)&&(f=Math.round(b.currentXY+e/3)),b._setXY(f),b.direction=e>0?-1:1),"H"==b.dir?b.basePage=c:b.basePage=d}},_touchEnd:function(a){var b=this;if(b._locked&&(a.preventDefault(),a.stopPropagation()),b.scrolling){b.scrolling=!1;var c=-b.currentXY/b.distance;c=b.direction>0?Math.ceil(c):b.direction<0?Math.floor(c):Math.round(c),b.moveToPoint(c),setTimeout(function(){b.element.parentNode.removeEventListener("click",b,!0)},200),b.endFun&&b.endFun()}},_click:function(a){var b=this;a.stopPropagation(),a.preventDefault()},destroy:function(){var a=this;a.element.parentNode.removeEventListener(e.start,a),a.element.parentNode.removeEventListener(e.move,a),a.element.parentNode.removeEventListener(e.transEnd,a),a.element.parentNode.removeEventListener(e.cancel,a),document.removeEventListener(e.end,a),document.removeEventListener(e.cancel,a)}},c.exports=i});